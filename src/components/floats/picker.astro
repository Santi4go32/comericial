---
import { languages } from '../../i18n/ui';
import { getLangFromUrl } from 'i18n/utils';


const currentLang = getLangFromUrl(Astro.url); 
const otherLang = Object.keys(languages).find(lang => lang !== currentLang);
---

<style>
  .flag-icon {
    width: 35px;
    height: 35px;
    background-size: cover;
    display: inline-block;
  }
  .flag-icon.en {
    background-image: url('https://upload.wikimedia.org/wikipedia/commons/thumb/8/88/United-states_flag_icon_round.svg/1200px-United-states_flag_icon_round.svg.png');
  }
  .flag-icon.es {
    background-image: url('https://cdn.countryflags.com/thumbs/spain/flag-round-250.png');
  }
  .floating-button {
    box-shadow: 2px 8px 10px -1px rgb(0, 0, 0);
    transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
  }
</style>

<div class="fixed bottom-0 p-2 bg-white floating-button flex rounded-t-3xl z-50">
  {otherLang ? (
    <a href={otherLang === 'en' ? '/' : `/${otherLang}/`}>
      <div class={`flag-icon ${otherLang}`}></div>
    </a>
  ) : null}
</div>